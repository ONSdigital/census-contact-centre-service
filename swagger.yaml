securityDefinitions:
   # X-API-Key: abcdef12345
  apiKey:
    type: apiKey
    in: header
    name: X-API-Key
  appId:
    type: apiKey
    in: header
    name: X-APP-ID
security:
  - apiKey: []  
    appId: []
parameters:
  CallIdentifier:
    name: X-CALL-ID
    type: string
    description: a unique call identifier that can be used to cross reference an API call to a contact centre call, MUST NOT be personal info e.g. phonenumber
    in: header
    required: true
paths:
  /addresses:
    get:
      operationId: addressQuery
      tags:
        - routes
      summary: Search for an address.
      description: >-
        Returns a ranked list of addresses matching the search query in the
        specified format.
      parameters:
        - in: query
          name: input
          type: string
          required: true
          description: >-
            Specifies the address search string (e.g. 'Segensworth Road,
            Titchfield, PO15 5RR').
        - in: query
          name: offset
          type: string
          required: false
          description: 'Specifies the offset from zero, used for pagination.'
          default: 0
          maximum: 250
        - in: query
          name: limit
          type: string
          required: false
          description: Specifies the number of addresses to return.
          default: 10
          maximum: 100
        - in: query
          name: classificationfilter
          type: string
          required: false
          description: >-
            Classification code filter. Can be pattern match e.g. ZW*, exact
            match e.g. RD06 or a preset keyword such as residential or
            commercial
        - in: query
          name: rangekm
          type: string
          required: false
          description: >-
            Limit results to those within this number of kilometers of point
            (decimal e.g. 0.1)
        - in: query
          name: lat
          type: string
          required: false
          description: Latitude of point in decimal format (e.g. 50.705948).
        - in: query
          name: lon
          type: string
          required: false
          description: Longitude of point in decimal format (e.g. -3.5091076).
        - in: query
          name: historical
          type: string
          required: false
          description: Include historical addresses
          default: true
        - in: query
          name: matchthreshold
          type: string
          required: false
          description: >-
            Minimum confidence score (percentage) for match to be included in
            results.
          default: 5
        - in: query
          name: verbose
          type: string
          required: false
          description: >-
            Include the full address details in the response (including
            relatives, crossRefs, paf and nag).
          default: false
      responses:
        '200':
          description: Success. A json return of matched addresses.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressBySearchResponseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: >-
            Server too busy. The Address Index API is experiencing exceptional
            load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  /addresses/partial:
    get:
      operationId: partialAddressQuery
      tags:
        - routes
      summary: Search by partial address (for type ahead).
      description: 'Returns a list addresses, from a partial match on the input string'
      parameters:
        - in: query
          name: input
          type: string
          required: true
          description: Specifies the address input.
        - in: query
          name: offset
          type: string
          required: false
          description: 'Specifies the offset from zero, used for pagination.'
          default: 0
          maximum: 250
        - in: query
          name: limit
          type: string
          required: false
          description: Specifies the number of addresses to return.
          default: 10
          maximum: 100
        - in: query
          name: classificationfilter
          type: string
          required: false
          description: >-
            Classification code filter. Can be pattern match e.g. ZW*, exact
            match e.g. RD06 or a preset keyword such as residential or
            commercial
        - in: query
          name: historical
          type: string
          required: false
          description: Include historical addresses
          default: true
        - in: query
          name: verbose
          type: string
          required: false
          description: >-
            Include the full address details in the response (including
            relatives, crossRefs, paf and nag).
          default: false
      responses:
        '200':
          description: Success. A json return of matched addresses.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.addressIndex.model.server.response.partialaddress.AddressByPartialAddressResponseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: >-
            Server too busy. The Address Index API is experiencing exceptional
            load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/addresses/postcode/{postcode}':
    get:
      operationId: postcodeQuery
      tags:
        - routes
      summary: Search for an address by postcode.
      description: >-
        Returns a alpha-numeric ordered list of addresses matching the postcode
        query.
      parameters:
        - in: path
          name: postcode
          type: string
          required: true
          description: Specifies the postcode search string (e.g. 'PO15 5RR').
        - in: query
          name: offset
          type: string
          required: false
          description: 'Specifies the offset from zero, used for pagination.'
          default: 0
          maximum: 1000
        - in: query
          name: limit
          type: string
          required: false
          description: Specifies the number of addresses to return.
          default: 10
          maximum: 100
        - in: query
          name: classificationfilter
          type: string
          required: false
          description: >-
            Classification code filter. Can be pattern match e.g. ZW*, exact
            match e.g. RD06 or a preset keyword such as residential or
            commercial
        - in: query
          name: historical
          type: string
          required: false
          description: Include historical addresses
          default: true
        - in: query
          name: verbose
          type: string
          required: false
          description: >-
            Include the full address details in the response (including
            relatives, crossRefs, paf and nag).
          default: false
      responses:
        '200':
          description: Success. A json return of matched addresses.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.addressIndex.model.server.response.postcode.AddressByPostcodeResponseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: >-
            Server too busy. The Address Index API is experiencing exceptional
            load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/addresses/{uprn}':
    post:
      operationId: address
      tags:
        - routes
      summary: Log a reported change to an address
      description: Report any of a number of scenarios affecting an address including adding a new address
      consumes:
        - application/json
      
      parameters:
        - in: path
          name: uprn
          type: string
          description: The uprn of the address this change relates to, for new addresses the uprn value should be set to 'unknown'
          required: true
        - in: body
          name: addressupdate
          description: object detailing address and report type
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.addressupdate
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/uprn/{uprn}':
    get:
      operationId: caseByUprnQuery
      tags:
        - routes
      summary: Search for a case by address uprn.
      description: Returns a case
      parameters:
        - in: path
          name: uprn
          type: string
          required: true
          description: 'Lookup a case by the UPRN '
      responses:
        '200':
          description: Success. A json object return of matched case.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}':
    get:
      operationId: caseByIdQuery
      tags:
        - routes
      summary: Search for a case by its Id.
      description: Returns a case
      parameters:
        - in: path
          name: caseId
          type: string
          required: true
          description: 'Lookup a case by the case uuid '
      responses:
        '200':
          description: Success. A json object return of matched case.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/ref/{reference}':
    get:
      operationId: caseByReferenceQuery
      tags:
        - routes
      summary: Search for a case by its reference.
      description: Returns a case by the case reference if available.
      parameters:
        - in: path
          name: reference
          type: string
          required: true
          description: 'Case reference e.g 123000001'
      responses:
        '200':
          description: Success. A json object return of matched case.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/uac':
    post:
      operationId: postUacSearch
      tags:
        - routes
      summary: Search for a case by UAC
      description: returns a matched case by UAC. Note that this is a POST request to avoid UACs appearing in request logs
      consumes:
        - application/json
      parameters:
        - in: body
          name: uac
          description: 'uac to search for case by'
          schema:
            $ref: "#/definitions/uk.gov.ons.responsemanagement.model.server.request.uac" 
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  
  '/cases/{caseId}/events':
    get:
      operationId: EventsByCaseIdQuery
      tags:
        - routes
      summary: Requests case events for a given case
      description: Returns an array of events that have happened for a given case (filtered event list)
      parameters:
        - in: path
          name: caseId
          type: string
          format: uuid
          required: true
          description: 'Lookup the case event history '
      responses:
        '200':
          description: Success. A json object return of matched case.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}/launch':
    get:
      operationId: LaunchByCaseIdQuery
      tags:
        - routes
      summary: Obtain an EQ launch URL and token for a case.
      description: Returns a case
      parameters:
        - in: path
          name: caseId
          type: string
          required: true
          description: Obtain an EQ survey launch URL by caseID
        - in: query
          name: employeeId
          type: string
          required: true
          description: employee identifier
      responses:
        '200':
          description: Success. A json object return containing a launch url with token.
          schema:
            properties:
              url:
                type: string
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.

  '/cases/{caseId}/fulfilment/post':
    post:
      operationId: postFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Request a fulfilment for a Case
      consumes:
        - application/json
      parameters:
        - in: path
          name: caseId
          type: string
          format: uuid
          description: The Case UUID 
          required: true
        - in: body
          name: appointment
          description: object detailing fulfilment request
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.fulfilmentpost
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}/fulfilment/email':
    post:
      operationId: emailFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Returns a case
      consumes:
        - application/json
      parameters:
        - in: path
          name: caseId
          type: string
          format: uuid
          description: The Case UUID 
          required: true
        - in: body
          name: appointment
          description: object detailing fulfilment request
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.fulfilmentemail
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  
  '/cases/{caseId}/fulfilment/sms':
    post:
      operationId: smsFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Returns a case
      consumes:
        - application/json
      parameters:
        - in: path
          name: caseId
          type: string
          format: uuid
          description: The Case UUID 
          required: true
        - in: body
          name: appointment
          description: object detailing appointment request
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.fulfilmentsms
              
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/unresolved/fulfilment/post':
    post:
      operationId: unresolvedPostFulfilment
      tags:
        - routes
      summary: Request a fulfilment for an address
      description: Request a fulfilment for an address that has not been resolved to a Case
      consumes:
        - application/json
      parameters:
        - in: body
          name: appointment
          description: object detailing fulfilment request
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentpost
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
              are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
              internal error.
  '/cases/unresolved/fulfilment/email':
    post:
      operationId: unresolvedEmailFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Returns a case
      consumes:
        - application/json
      parameters:
        - in: body
          name: appointment
          description: object detailing fulfilment request
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentemail
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  
  '/cases/unresolved/fulfilment/sms':
    post:
      operationId: unresolvedSmsFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Returns a case
      consumes:
        - application/json
      parameters:
        - in: body
          name: appointment
          description: object detailing appointment request
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentsms
              
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}/appointment':
    post:
      operationId: scheduleAppointment
      tags:
        - routes
      summary: Schedule an appointment for either a field visit or telephone capture
      description: Returns a case
      consumes:
        - application/json
      parameters:
        - in: path
          name: caseId
          type: string
          format: uuid
          description: The Case UUID 
          required: true
        - in: body
          name: appointment
          description: object detailing appointment request
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.appointment
      
      responses:
        '200':
          description: Success. Confirmation.
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  /fulfilments/:
    get:
      operationId: fulfilments
      tags:
        - routes
      summary: Get a list of available fulfilments.
      description: Returns a JSON object containing available fulfilments
      parameters:
        - in: query
          name: casetype
          type: string
          required: false
          description: Lookup fulfilments by casetype
        - in: query
          name: region
          type: string
          required: false
          description: Lookup fulfilments by region
      responses:
        '200':
          description: Success. A json object return of fulfilment options.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.response.fulfilmentcodes
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}/refusal':
    post:
      operationId: refusals
      tags:
        - routes
      summary: Log when someone is unable/unwilling to complete a response
      description: Logs a refusal against a Case
      consumes:
        - application/json
      parameters:
        - in: path
          name: caseId
          type: string
          format: uuid
          description: The Case UUID 
          required: true
        - in: body
          name: refusal
          description: object detailing refusal
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.request.refusal
      responses:
        '200':
          description: Success. Confirmation.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.response.refusalresponse
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  /refusals/:
    get:
      operationId: refusalcodes
      tags:
        - routes
      summary: Get a list of refusal codes and descriptions.
      description: Returns a JSON object containing available refusal codes
      parameters:
        - in: query
          name: casetype
          type: string
          required: false
          description: Lookup refusal codes
      responses:
        '200':
          description: Success. A json object return of refusal codes and descriptions.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.responsemanagement.model.server.response.refusalcodes
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  
  /version:
    get:
      operationId: versionQuery
      tags:
        - routes
      summary: Get version information.
      description: Returns version information for the api and the data (AddressBase).
      responses:
        '200':
          description: Success. A json return of version information.
          schema:
            $ref: >-
              #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseVersion
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: >-
            Server too busy. The Address Index API is experiencing exceptional
            load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
definitions:
  uk.gov.ons.responsemanagement.model.server.request.addressupdate:
    properties:
      address_line1:
        type: string
        maxLength: 60
        description: 'updated address line1'
      address_line2:
        type: string
        maxLength: 60
        description: 'updated address line2'
      address_line3:
        type: string
        maxLength: 60
        description: 'updated address line3'
      address_line4:
        type: string
        maxLength: 60
        description: 'updated address line4'
      town_name:
        type: string
        maxLength: 30
        description: 'The post town of the address'
      country:
        type: string
        maxLength: 30
        description: The country e.g. england. wales, northern ireland
      postcode:
        type: string
        description: 'postcode of address'
        maxLength: 8
      category:
        type: string
        enum: [create,update,delete]
        description: the category of address update e.g. create,update,delete
      type:
        type: string
        enum: [new,correction,split,merged,demolished,derelict,unoccupied]
        description: the type of address update, based on category selected
      name:
        type: string
        description: the name of the person reporting address change
      datetime:
        type: string
        format: date-time
        description: The request date time stamp
    required:
      - address_line1
      - town_name
      - postcode
      - category
      - type
      - name
      - datetime
      
  uk.gov.ons.responsemanagement.model.server.request.uac:
    properties:
      uac:
        type: string
        format: uuid
  
  uk.gov.ons.responsemanagement.model.server.request.fulfilmentpost:
    properties:
      caseId:
        type: string
        format: uuid
        description: 'CaseId to request fulfilment for.'
      type:
        type: string
        description: the type of fulfilment
      name:
        type: string
        description: the name of the person requesting fulfilment
      productCode:
        type: string
        description: the product code for the fulfilment
      datetime:
        type: string
        format: date-time
        description: The request date time stamp
    required:
      - caseId
      - type
      - name
      - productCode
      - datetime
  
  uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentpost:
    properties:
      address_line1:
        type: string
        maxLength: 60
        description: 'updated address line1'
      address_line2:
        type: string
        maxLength: 60
        description: 'updated address line2'
      address_line3:
        type: string
        maxLength: 60
        description: 'updated address line3'
      address_line4:
        type: string
        maxLength: 60
        description: 'updated address line4'
      town_name:
        type: string
        maxLength: 30
        description: 'The post town of the address'
      country:
        type: string
        maxLength: 30
        description: The country e.g. england. wales, northern ireland
      postcode:
        type: string
        description: 'postcode of address'
        maxLength: 8
      type:
        type: string
        description: the type of fulfilment
      name:
        type: string
        description: the name of the person requesting fulfilment
      productCode:
        type: string
        description: the product code for the fulfilment
      datetime:
        type: string
        format: date-time
        description: The request date time stamp
    required:
      - address_line1
      - town_name
      - postcode
      - type
      - name
      - productCode
      - datetime
  uk.gov.ons.responsemanagement.model.server.request.fulfilmentemail:
    properties:
      caseId:
        type: string
        format: uuid
        description: 'CaseId to request fulfilment for.'
      type:
        type: string
        description: the type of fulfilment
      name:
        type: string
        description: the name of the person requesting fulfilment
      email:
        type: string
        format: email
      productCode:
        type: string
        description: the product code for the fulfilment
      datetime:
        type: string
        format: date-time
        description: The request date time stamp
    required:
      - caseId
      - type
      - name
      - email
      - productCode
      - datetime
  
  uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentemail:
    properties:
      address_line1:
        type: string
        maxLength: 60
        description: 'updated address line1'
      address_line2:
        type: string
        maxLength: 60
        description: 'updated address line2'
      address_line3:
        type: string
        maxLength: 60
        description: 'updated address line3'
      address_line4:
        type: string
        maxLength: 60
        description: 'updated address line4'
      town_name:
        type: string
        maxLength: 30
        description: 'The post town of the address'
      country:
        type: string
        maxLength: 30
        description: The country e.g. england. wales, northern ireland
      postcode:
        type: string
        description: 'postcode of address'
        maxLength: 8
      type:
        type: string
        description: the type of fulfilment
      name:
        type: string
        description: the name of the person requesting fulfilment
      email:
        type: string
        format: email
      productCode:
        type: string
        description: the product code for the fulfilment
      datetime:
        type: string
        format: date-time
        description: The request date time stamp
    required:
      - address_line1
      - town_name
      - postcode
      - type
      - name
      - email
      - productCode
      - datetime
  
  uk.gov.ons.responsemanagement.model.server.request.fulfilmentsms:
    properties:
      caseId:
        type: string
        format: uuid
        description: 'CaseId to request fulfilment for.'
      type:
        type: string
        description: the type of fulfilment
      name:
        type: string
        description: the name of the person requesting fulfilment
      mobileNo:
        type: string
        format: phone
      productCode:
        type: string
        description: the product code for the fulfilment
      datetime:
        type: string
        format: date-time
        description: The request date time stamp
    required:
      - caseId
      - type
      - name
      - mobileNo
      - productCode
      - datetime
      
  uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentsms:
    properties:
      address_line1:
        type: string
        maxLength: 60
        description: 'updated address line1'
      address_line2:
        type: string
        maxLength: 60
        description: 'updated address line2'
      address_line3:
        type: string
        maxLength: 60
        description: 'updated address line3'
      address_line4:
        type: string
        maxLength: 60
        description: 'updated address line4'
      town_name:
        type: string
        maxLength: 30
        description: 'The post town of the address'
      country:
        type: string
        maxLength: 30
        description: The country e.g. england. wales, northern ireland
      postcode:
        type: string
        description: 'postcode of address'
        maxLength: 8
      type:
        type: string
        description: the type of fulfilment
      name:
        type: string
        description: the name of the person requesting fulfilment
      mobileNo:
        type: string
        format: phone
      productCode:
        type: string
        description: the product code for the fulfilment
      datetime:
        type: string
        format: date-time
        description: The request date time stamp
    required:
      - address_line1
      - town_name
      - postcode
      - type
      - name
      - mobileNo
      - productCode
      - datetime
  
  uk.gov.ons.responsemanagement.model.server.request.appointment:
    properties:
      caseId:
        type: string
        format: uuid
        description: 'CaseId to record appointment against'
      type:
        type: string
        description: the type of appointment
      name:
        type: string
        description: the name of the person request an appointment
      phone:
        type: string
        description: the contact number for the appointment if given
      datetime:
        type: string
        format: date-time
        description: The requested time of the appointment if known
    required:
      - caseId
      - type
      - name
  
  uk.gov.ons.responsemanagement.model.server.request.refusal:
    properties:
      refusal:
        type: object
        properties:
          caseId:
            type: string
            format: uuid
            description: CaseId to log refusal against
          refusalcode:
            type: string
            description: the refusal type code
          name: 
            type: string
            description: the name of the individual refusing
          contactnumber:
            type: string
            format: telephone
            description: the telephone number of the individual refusing
          notes:
            type: string
            description: notes about the refusal
          
  uk.gov.ons.responsemanagement.model.server.response.refusalresponse:
    properties:
      referenceid:
        type: string
        format: uuid
  uk.gov.ons.responsemanagement.model.server.response.refusalcodes:
    properties:
      codes:
        type: array
        items:
            type: object
            properties:
              refusalcode:
                type: string
              description:
                type: string
  
  uk.gov.ons.responsemanagement.model.server.response.fulfilmentcodes:
     properties:
      codes:
        type: array
        items:
            type: object
            properties:
              productcode:
                type: string
              description:
                type: string
              method:
                type: string
                enum:
                  - post
                  - email
                  - sms
  uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer:
    properties:
      id:
        type: string
        format: uuid
      caseref:
        type: string
      createdDateTime:
        type: string
        format: date-time
      responses:
        type: array
        items:
           $ref: >-
            #/definitions/uk.gov.ons.responsemanagement.model.server.response.case.Responses
      caseEvents: 
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.responsemanagement.model.server.response.case.CaseEvents
  uk.gov.ons.responsemanagement.model.server.response.case.CaseEvents:
    properties:
      id:
        type: string
      category:
        type: string
      description:
        type: string
      createdDateTime:
        type: string
        format: date-time
  uk.gov.ons.responsemanagement.model.server.response.case.Responses:
    properties:
      dateTime:
        type: string
        format: date-time
      inboundChannel: 
        type: string
        
  uk.gov.ons.addressIndex.model.server.response.partialaddress.AddressByPartialAddressResponse:
    properties:
      input:
        type: string
      addresses:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseAddress
      filter:
        type: string
      historical:
        type: boolean
      limit:
        type: integer
        format: int32
      offset:
        type: integer
        format: int32
      total:
        type: integer
        format: int64
      maxScore:
        type: number
        format: double
      startDate:
        type: string
      endDate:
        type: string
      verbose:
        type: boolean
    required:
      - input
      - addresses
      - filter
      - historical
      - limit
      - offset
      - total
      - maxScore
      - startDate
      - endDate
      - verbose
  uk.gov.ons.addressIndex.model.server.response.partialaddress.AddressByPartialAddressResponseContainer:
    properties:
      apiVersion:
        type: string
      dataVersion:
        type: string
      response:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.partialaddress.AddressByPartialAddressResponse
      status:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseStatus
      errors:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseError
    required:
      - apiVersion
      - dataVersion
      - response
      - status
      - errors
  uk.gov.ons.addressIndex.model.server.response.address.AddressBySearchResponse:
    properties:
      tokens:
        type: array
        items:
          $ref: '#/definitions/Token'
      addresses:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseAddress
      filter:
        type: string
      historical:
        type: boolean
      rangekm:
        type: string
      latitude:
        type: string
      longitude:
        type: string
      startDate:
        type: string
      endDate:
        type: string
      limit:
        type: integer
        format: int32
      offset:
        type: integer
        format: int32
      total:
        type: integer
        format: int64
      sampleSize:
        type: integer
        format: int64
      maxScore:
        type: number
        format: double
      matchthreshold:
        type: number
        format: float
      verbose:
        type: boolean
    required:
      - tokens
      - addresses
      - filter
      - historical
      - rangekm
      - latitude
      - longitude
      - startDate
      - endDate
      - limit
      - offset
      - total
      - sampleSize
      - maxScore
      - matchthreshold
      - verbose
  uk.gov.ons.addressIndex.model.server.response.address.AddressBySearchResponseContainer:
    properties:
      apiVersion:
        type: string
      dataVersion:
        type: string
      response:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressBySearchResponse
      status:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseStatus
      errors:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseError
    required:
      - apiVersion
      - dataVersion
      - response
      - status
      - errors
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseVersion:
    properties:
      apiVersion:
        type: string
      dataVersion:
        type: string
    required:
      - apiVersion
      - dataVersion
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseError:
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
    required:
      - code
      - message
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseStatus:
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
    required:
      - code
      - message
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseGeo:
    properties:
      latitude:
        type: number
        format: double
      longitude:
        type: number
        format: double
      easting:
        type: integer
        format: int32
      northing:
        type: integer
        format: int32
    required:
      - latitude
      - longitude
      - easting
      - northing
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseSao:
    properties:
      saoText:
        type: string
      saoStartNumber:
        type: string
      saoStartSuffix:
        type: string
      saoEndNumber:
        type: string
      saoEndSuffix:
        type: string
    required:
      - saoText
      - saoStartNumber
      - saoStartSuffix
      - saoEndNumber
      - saoEndSuffix
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponsePao:
    properties:
      paoText:
        type: string
      paoStartNumber:
        type: string
      paoStartSuffix:
        type: string
      paoEndNumber:
        type: string
      paoEndSuffix:
        type: string
    required:
      - paoText
      - paoStartNumber
      - paoStartSuffix
      - paoEndNumber
      - paoEndSuffix
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseNag:
    properties:
      uprn:
        type: string
      postcodeLocator:
        type: string
      addressBasePostal:
        type: string
      usrn:
        type: string
      lpiKey:
        type: string
      pao:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponsePao
      sao:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseSao
      level:
        type: string
      officialFlag:
        type: string
      logicalStatus:
        type: string
      streetDescriptor:
        type: string
      townName:
        type: string
      locality:
        type: string
      organisation:
        type: string
      legalName:
        type: string
      localCustodianCode:
        type: string
      localCustodianName:
        type: string
      localCustodianGeogCode:
        type: string
      lpiEndDate:
        type: string
      lpiStartDate:
        type: string
    required:
      - uprn
      - postcodeLocator
      - addressBasePostal
      - usrn
      - lpiKey
      - pao
      - sao
      - level
      - officialFlag
      - logicalStatus
      - streetDescriptor
      - townName
      - locality
      - organisation
      - legalName
      - localCustodianCode
      - localCustodianName
      - localCustodianGeogCode
      - lpiEndDate
      - lpiStartDate
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponsePaf:
    properties:
      udprn:
        type: string
      organisationName:
        type: string
      departmentName:
        type: string
      subBuildingName:
        type: string
      buildingName:
        type: string
      buildingNumber:
        type: string
      dependentThoroughfare:
        type: string
      thoroughfare:
        type: string
      doubleDependentLocality:
        type: string
      dependentLocality:
        type: string
      postTown:
        type: string
      postcode:
        type: string
      postcodeType:
        type: string
      deliveryPointSuffix:
        type: string
      welshDependentThoroughfare:
        type: string
      welshThoroughfare:
        type: string
      welshDoubleDependentLocality:
        type: string
      welshDependentLocality:
        type: string
      welshPostTown:
        type: string
      poBoxNumber:
        type: string
      startDate:
        type: string
      endDate:
        type: string
    required:
      - udprn
      - organisationName
      - departmentName
      - subBuildingName
      - buildingName
      - buildingNumber
      - dependentThoroughfare
      - thoroughfare
      - doubleDependentLocality
      - dependentLocality
      - postTown
      - postcode
      - postcodeType
      - deliveryPointSuffix
      - welshDependentThoroughfare
      - welshThoroughfare
      - welshDoubleDependentLocality
      - welshDependentLocality
      - welshPostTown
      - poBoxNumber
      - startDate
      - endDate
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseCrossRef:
    properties:
      crossReference:
        type: string
      source:
        type: string
    required:
      - crossReference
      - source
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseRelative:
    properties:
      level:
        type: integer
        format: int32
      siblings:
        type: array
        items:
          type: integer
          format: int64
      parents:
        type: array
        items:
          type: integer
          format: int64
    required:
      - level
      - siblings
      - parents
  uk.gov.ons.addressIndex.model.server.response.address.AddressResponseAddress:
    properties:
      uprn:
        type: string
      parentUprn:
        type: string
      relatives:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseRelative
      crossRefs:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseCrossRef
      formattedAddress:
        type: string
      formattedAddressNag:
        type: string
      formattedAddressPaf:
        type: string
      welshFormattedAddressNag:
        type: string
      welshFormattedAddressPaf:
        type: string
      paf:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponsePaf
      nag:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseNag
      geo:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseGeo
      classificationCode:
        type: string
      lpiLogicalStatus:
        type: string
      confidenceScore:
        type: number
        format: double
      underlyingScore:
        type: number
        format: float
    required:
      - uprn
      - parentUprn
      - formattedAddress
      - formattedAddressNag
      - formattedAddressPaf
      - welshFormattedAddressNag
      - welshFormattedAddressPaf
      - classificationCode
      - lpiLogicalStatus
      - confidenceScore
      - underlyingScore
  uk.gov.ons.addressIndex.model.server.response.postcode.AddressByPostcodeResponse:
    properties:
      postcode:
        type: string
      addresses:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseAddress
      filter:
        type: string
      historical:
        type: boolean
      limit:
        type: integer
        format: int32
      offset:
        type: integer
        format: int32
      total:
        type: integer
        format: int64
      maxScore:
        type: number
        format: double
      startDate:
        type: string
      endDate:
        type: string
      verbose:
        type: boolean
    required:
      - postcode
      - addresses
      - filter
      - historical
      - limit
      - offset
      - total
      - maxScore
      - startDate
      - endDate
      - verbose
  uk.gov.ons.addressIndex.model.server.response.postcode.AddressByPostcodeResponseContainer:
    properties:
      apiVersion:
        type: string
      dataVersion:
        type: string
      response:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.postcode.AddressByPostcodeResponse
      status:
        $ref: >-
          #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseStatus
      errors:
        type: array
        items:
          $ref: >-
            #/definitions/uk.gov.ons.addressIndex.model.server.response.address.AddressResponseError
    required:
      - apiVersion
      - dataVersion
      - response
      - status
      - errors
  Token:
    properties:
      id:
        type: string
info:
  title: ONS Contact Centre API
  description: >-
    Provides features and functions required by the Contact Centre.
  version: "1.0.1"
produces:
  - application/json
swagger: '2.0'
consumes:
  - application/json
tags:
  - name: routes
schemes:
  - https
basePath: /contactcentre/1.0.1
